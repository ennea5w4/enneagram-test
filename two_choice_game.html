<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>2択 性格ゲーム</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{
  margin:0;
  background:#111;
  color:#f7f7f7;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}
.card{
  background:#181818;
  border:1px solid #444;
  border-radius:16px;
  padding:22px 20px;
  max-width:520px;
  width:100%;
  box-shadow:0 0 25px rgba(0,0,0,.6);
}
h1{margin:.2em 0 .4em;font-size:1.5rem;}
.progress{color:#aaa;font-size:.8rem;margin-bottom:.3em;}
.question{margin:1em 0;font-size:1.05rem;line-height:1.5;}
.choices{display:flex;flex-direction:column;gap:10px;margin:16px 0;}
.btn{
  border:none;
  border-radius:999px;
  padding:14px 18px;
  font-size:.95rem;
  cursor:pointer;
}
.choice{background:#252525;color:#fff;border:1px solid #444;text-align:left;}
.choice.selectedA{border-color:#f5b642;background:rgba(245,182,66,.2);}
.choice.selectedB{border-color:#e50914;background:rgba(229,9,20,.2);}
.main{
  background:linear-gradient(135deg,#e50914,#f5b642);
  color:#111;font-weight:600;width:100%;
}
.sub{background:#2a2a2a;color:#fff;border:1px solid #444;}
.nav{display:flex;gap:8px;margin-top:8px;}
img.hero{
  width:100%;
  max-width:260px;
  display:block;
  margin:10px auto;
}
.badge{
  display:inline-block;
  background:#333;
  padding:2px 8px;
  border-radius:999px;
  font-size:.75rem;
  margin-left:6px;
}
.highlight{color:#f5b642;font-weight:600;}
</style>
</head>

<body>
<div class="card" id="app"></div>

<script>
// ================= 設定 =================
const rainyTypeLabel = "作者：Rainy（タイプ5）";

// 地獄16 + 天国16 = 32問
const questions = [
  // 地獄
  {q:"嫌われない人生 vs なめられない人生",A:"嫌われない",B:"なめられない"},
  {q:"ずっと謝り続ける vs ずっと言い訳し続ける",A:"謝る",B:"言い訳"},
  {q:"一生 気まずい沈黙 vs 一生 浅い雑談",A:"沈黙",B:"雑談"},
  {q:"毎日 上司に詰められる vs 部下に裏切られる",A:"上司",B:"部下"},
  {q:"一生 頼れない vs 頼られすぎる",A:"頼れない",B:"頼られる"},
  {q:"一生 本音しか言えない vs ウソしか言えない",A:"本音",B:"ウソ"},
  {q:"一生 予定が狂う vs 予定通りで退屈",A:"狂う",B:"退屈"},
  {q:"一生 誤解される vs 期待され続ける",A:"誤解",B:"期待"},
  {q:"一生 選択を迫られる vs 選択肢がない",A:"迫られる",B:"ない"},
  {q:"一生 相談されない vs 相談され続ける",A:"されない",B:"される"},
  {q:"評価されない努力 vs 評価される実力不足",A:"努力",B:"不足"},
  {q:"予定を守らされる vs 守られない",A:"守る",B:"守られない"},
  {q:"人に合わせ続ける vs 合わせてもらう",A:"合わせる",B:"合わせてもらう"},
  {q:"安心できない成功 vs 安心だけの失敗",A:"成功",B:"失敗"},
  {q:"注目され続ける vs 存在感ゼロ",A:"注目",B:"ゼロ"},
  {q:"誰かに依存される vs 誰にも頼られない",A:"依存",B:"孤立"},

  // 天国
  {q:"一生 安心 vs 一生 ワクワク",A:"安心",B:"ワクワク"},
  {q:"一生 理解される vs 自由",A:"理解",B:"自由"},
  {q:"お金に困らない vs 時間に追われない",A:"お金",B:"時間"},
  {q:"称賛される天才 vs 愛される凡人",A:"称賛",B:"愛"},
  {q:"一生 自信がある vs 不安がない",A:"自信",B:"不安なし"},
  {q:"穏やか vs 感動が多い",A:"穏やか",B:"感動"},
  {q:"好きなことだけ vs 得意なことだけ",A:"好き",B:"得意"},
  {q:"ひとり時間 vs 仲間と一緒",A:"ひとり",B:"仲間"},
  {q:"今のままでOK vs もっと期待",A:"OK",B:"期待"},
  {q:"失敗しない vs 後悔しない",A:"失敗なし",B:"後悔なし"},
  {q:"誰かの一番 vs みんなに好かれる",A:"一番",B:"みんな"},
  {q:"自分を信じる vs 人を信じる",A:"自分",B:"人"},
  {q:"必要とされる vs 尊敬される",A:"必要",B:"尊敬"},
  {q:"穏やかな日常 vs 忘れられない瞬間",A:"日常",B:"瞬間"},
  {q:"選ばれる側 vs 選ぶ側",A:"選ばれる",B:"選ぶ"},
  {q:"自分を好きでいられる vs 愛され続ける",A:"自己肯定",B:"愛"}
];

// Rainy（タイプ5）が選びそうな答え
const rainyAnswers = [
  "B","A","A","A","A","A","B","A","A","A","A","A","A","A","B","B",
  "A","B","B","A","B","A","A","A","A","B","B","B","B","A","B","A"
];

// ================= ロジック =================
const app = document.getElementById("app");
let index = -1;
let answers = [];

function start(){
  answers = [];
  index = -1;
  renderStart();
}

function renderStart(){
  app.innerHTML = `
    <h1>2択 性格ゲーム</h1>
    <img class="hero" src="img/dog_type05.png">
    <p>
      AかBを直感で選んでください。<br>
      最後に<strong>Rainyポイント</strong>と<br>
      タイプ5との相性が出ます。
    </p>
    <button class="btn main" onclick="next()">スタート</button>
  `;
}

function next(){
  index++;
  if(index === 16){
    app.innerHTML = `
      <img class="hero" src="img/transition_hell_to_heaven.png">
      <p>地獄を抜けました。<br><strong>ここから天国の2択です。</strong></p>
      <button class="btn main" onclick="next()">続ける</button>
    `;
    return;
  }
  if(index >= questions.length){
    renderResult();
    return;
  }
  renderQuestion();
}

function renderQuestion(){
  const q = questions[index];
  const a = answers[index];
  app.innerHTML = `
    <div class="progress">Q${index+1} / ${questions.length}</div>
    <h1>2択 性格ゲーム</h1>
    <div class="question">${q.q}</div>
    <div class="choices">
      <button class="btn choice ${a==="A"?"selectedA":""}" onclick="choose('A')">${q.A}</button>
      <button class="btn choice ${a==="B"?"selectedB":""}" onclick="choose('B')">${q.B}</button>
    </div>
    <div class="nav">
      <button class="btn sub" onclick="prev()" ${index===0?"disabled":""}>← もどる</button>
      <button class="btn main" onclick="next()" ${!a?"disabled":""}>次へ →</button>
    </div>
  `;
}

function choose(v){
  answers[index] = v;
  renderQuestion();
}

function prev(){
  index--;
  renderQuestion();
}

function renderResult(){
  let rainy = 0;
  answers.forEach((a,i)=>{ if(a===rainyAnswers[i]) rainy++; });

  let comment =
    rainy > 24 ? "Type5とかなり近い日。冷静・合理モード最強。" :
    rainy > 16 ? "Type5寄り。考えてから動くタイプ。" :
    rainy > 8  ? "バランス型。感情と理性が半々。" :
                 "Type5とは真逆！感覚派・行動派。";

  app.innerHTML = `
    <h1>結果</h1>
    <img class="hero" src="img/dog_type05.png">
    <p>
      <span class="highlight">Rainyポイント：</span>
      ${rainy} / ${questions.length}
      <span class="badge">${rainyTypeLabel}</span>
    </p>
    <p>${comment}</p>
    <p style="font-size:.85rem;color:#ccc;">
      ※ Rainyポイントは「作者がタイプ5なので、同じ選択だと1点」。
      正解・不正解はありません。
    </p>
    <button class="btn main" onclick="penalty()">次へ</button>
  `;
}

function penalty(){
  app.innerHTML = `
    <h1>罰ゲーム</h1>
    <img class="hero" src="img/enneagram_penalty_lightstick.png">
    <p>Type5との相性が一番低い人、<br>
    <strong>ペンライト芸、お願いします！</strong></p>
    <button class="btn main" onclick="start()">最初に戻る</button>
  `;
}

renderStart();
</script>
</body>
</html>
