<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>エニアグラム診断ツール</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: 'Arial', sans-serif;
      margin: 20px;
      background-color: #fefefe;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #2c3e50;
    }
    form {
      max-width: 800px;
      margin: auto;
    }
    .type-section {
      margin-bottom: 20px;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 8px;
      background: #f9f9f9;
    }
    .type-title {
      font-weight: bold;
      margin-bottom: 8px;
    }
    label {
      display: block;
      margin-bottom: 4px;
    }
    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      background-color: #3498db;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    #result {
      max-width: 800px;
      margin: 30px auto;
      padding: 20px;
      background-color: #e8f5e9;
      border: 1px solid #c8e6c9;
      border-radius: 8px;
    }
    #result img {
      max-width: 120px;
      margin-top: 15px;
    }
  </style>
</head>
<body>
  <h1>エニアグラム簡易診断</h1>
  <form id="enneagramForm"></form>
  <button onclick="calculateResult()">診断する</button>
  <div id="result"></div>

  <script>
    const data = {
      1: ["完璧主義", "規律", "秩序", "正義感", "自己厳格", "自己改善", "自己要求", "批判的", "几帳面", "信頼性", "忍耐力", "自己否定", "自己成就", "ルール遵守", "慎重", "自己管理", "自己規律", "融通が利かない", "欲求の抑制", "責任感の過剰"],
      2: ["思いやり", "奉仕", "関心", "共感力", "サポート", "気配り", "親切", "応援", "寛容", "感情の共有", "人に喜ばれること", "人間関係の構築", "感謝の表現", "献身的", "尽力", "援助", "気遣い", "お節介", "自己犠牲", "必要以上の依存関係"],
      3: ["成果主義", "自己表現", "自己宣伝", "外部の評価", "賞賛", "自己啓発", "外見重視", "目標達成", "仕事への情熱", "効率性", "生産性", "努力", "自己投資", "野心", "承認", "対人スキル", "社会的な成功", "イメージの維持", "成功への欲求", "他者との競争"],
      4: ["感受性", "芸術性", "個別性", "独自性", "変わり者", "創造性", "美的センス", "個性的なスタイル", "ロマンチック", "自己表現の欲求", "情緒的な深さ", "内的な世界", "感情の起伏", "美意識", "独特な視点", "自己陶酔", "自己否定", "感情の複雑さ", "感傷的", "感情の浮き沈み"],
      5: ["知識欲", "探求心", "分析力", "観察力", "冷静さ", "直観力", "独立性", "研究熱心", "思慮深さ", "専門性", "エキスパート", "論理的思考", "情報の収集と蓄積", "感情の制御", "客観性", "物事の本質を追求", "静寂", "プライバシーの重視", "自己完結型", "非社交的"],
      6: ["忠誠心", "安定性", "責任感", "協力性", "リスク回避", "信頼の確認", "安心・安全の追求", "判断の迅速さ", "危機管理", "慎重", "予測と準備", "規律性", "忠実", "自己防衛", "心配性", "警戒心", "不安", "不信感", "組織やグループへの帰属意識", "リーダーの指示に従う"],
      7: ["冒険心", "楽観主義", "創造性", "好奇心", "刺激を求める", "多趣味", "興味の幅広さ", "アイデアの豊富さ", "未来志向", "夢想家", "エネルギー", "社交性", "マルチタスク", "自由奔放", "変化への適応性", "多様な経験の追求", "ポジティブな姿勢", "集中力の欠如", "飽きやすさ", "物事を終わらせる難しさ"],
      8: ["パワフル", "自信", "リーダーシップ", "決断力", "自己主張", "力強さ", "断固とした態度", "対立", "挑戦", "主導権の取得", "権威", "リスクの受け入れ", "影響力", "自己支配", "コントロール力", "他者への支配欲", "自己中心的", "攻撃性", "強引さ", "過度な競争心"],
      9: ["平和", "調和", "平穏", "決断の遅れ", "適応", "妥協", "抑制", "穏やかさ", "中立", "和解の促進", "安定性", "忍耐力", "平凡さ", "傍観者", "穏やかな姿勢", "寛大", "衝突回避", "現実逃避", "自己主張の欠如", "面倒を避ける"]
    };

    const descriptions = {
      1: "理想に向かって努力し続けるタイプ。正義感が強く、完璧を求める傾向があります。",
      2: "人の役に立ちたい思いが強く、優しさと献身性を持つタイプ。",
      3: "成果を出すことに価値を感じ、前向きで努力家なタイプ。",
      4: "独自性や感受性が高く、芸術的な表現に惹かれるタイプ。",
      5: "知識と探究心にあふれ、静かに深く思考するタイプ。",
      6: "慎重で忠実。安心や信頼関係を大切にするタイプ。",
      7: "楽しいことや新しい刺激を求め、明るく前向きなタイプ。",
      8: "強さとリーダーシップを持ち、自信を持って進むタイプ。",
      9: "穏やかで協調性があり、周囲との調和を大切にするタイプ。"
    };

    function generateForm() {
      const form = document.getElementById("enneagramForm");
      for (let type in data) {
        const section = document.createElement("div");
        section.className = "type-section";
        const title = document.createElement("div");
        title.className = "type-title";
        title.textContent = `タイプ${type}`;
        section.appendChild(title);
        data[type].forEach(keyword => {
          const label = document.createElement("label");
          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.name = `type${type}`;
          checkbox.value = keyword;
          label.appendChild(checkbox);
          label.append(` ${keyword}`);
          section.appendChild(label);
        });
        form.appendChild(section);
      }
    }

    function calculateResult() {
      event.preventDefault();
      const counts = {};
      for (let type in data) {
        const checkboxes = document.querySelectorAll(`input[name='type${type}']:checked`);
        counts[type] = checkboxes.length;
      }
      const max = Math.max(...Object.values(counts));
      const resultTypes = Object.keys(counts).filter(type => counts[type] === max);
      resultTypes.sort((a, b) => parseInt(a) - parseInt(b));
      const mainType = resultTypes[0];

      let resultHTML = `<p>あなたのタイプ候補は <strong>タイプ${mainType}</strong> です。</p>`;
      resultHTML += `<p>${descriptions[mainType]}</p>`;
      resultHTML += `<img src="img/type${mainType}.png" alt="タイプ${mainType}のイラスト">`;

      if (resultTypes.length > 1) {
        resultHTML += `<p>※他にもタイプ${resultTypes.slice(1).join("・")}の傾向も見られます。</p>`;
      }

      document.getElementById("result").innerHTML = resultHTML;
    }

    window.onload = generateForm;
  </script>
</body>
</html>
