<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="エニアグラム簡易診断フォーム">
  <title>エニアグラム簡易診断</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 800px; margin: auto; }
    .type-section { margin-bottom: 20px; padding: 10px; background: #f9f9f9; border: 1px solid #ccc; border-radius: 8px; }
    .type-title { font-weight: bold; font-size: 18px; margin-bottom: 5px; color: #007acc; }
    #result { margin-top: 20px; padding: 15px; background: #e0f7e9; border-radius: 8px; }
    button { margin-top: 10px; padding: 10px 20px; font-size: 16px; }
    #result img { margin-top: 15px; max-width: 100px; }
    .share-link { display: inline-block; margin: 5px 10px; padding: 10px 15px; border-radius: 5px; text-decoration: none; color: white; }
    .x { background: #1da1f2; }
    .line { background: #00c300; }
  </style>
</head>
<body>
  <h1>エニアグラム簡易診断</h1>
  <p>以下のキーワードの中で「自分に当てはまる」と感じるものにチェックを入れてください。</p>
  <form id="enneagramForm"></form>
  <button onclick="calculateResult()">診断する</button>
  <div id="result"></div>
  <div id="shareButtons" style="display:none;">
    <a id="twitterShare" class="share-link x" target="_blank">Xでシェア</a>
    <a id="lineShare" class="share-link line" target="_blank">LINEでシェア</a>
  </div>
  <script>
    const data = {
  1: ["完璧主義", "規律", "秩序", "正義感", "自己厳格", "自己改善", "自己要求", "批判的", "几帳面", "信頼性", "忍耐力", "自己否定", "自己成就", "ルール遵守", "慎重", "自己管理", "自己規律", "融通が利かない", "欲求の抑制", "責任感の過剰"],
  2: ["思いやり", "奉仕", "関心", "共感力", "サポート", "気配り", "親切", "応援", "寛容", "感情の共有", "人に喜ばれること", "人間関係の構築", "感謝の表現", "献身的", "尽力", "援助", "気遣い", "お節介", "自己犠牲", "必要以上の依存関係"],
  3: ["成果主義", "自己表現", "自己宣伝", "外部の評価", "賞賛", "自己啓発", "外見重視", "目標達成", "仕事への情熱", "効率性", "生産性", "努力", "自己投資", "野心", "承認", "対人スキル", "社会的な成功", "イメージの維持", "成功への欲求", "他者との競争"],
  4: ["感受性", "芸術性", "個別性", "独自性", "変わり者", "創造性", "美的センス", "個性的なスタイル", "ロマンチック", "自己表現の欲求", "情緒的な深さ", "内的な世界", "感情の起伏", "美意識", "独特な視点", "自己陶酔", "自己否定", "感情の複雑さ", "感傷的", "感情の浮き沈み"],
  5: ["知識欲", "探求心", "分析力", "観察力", "冷静さ", "直観力", "独立性", "研究熱心", "思慮深さ", "専門性", "エキスパート", "論理的思考", "情報の収集と蓄積", "感情の制御", "客観性", "物事の本質を追求", "静寂", "プライバシーの重視", "自己完結型", "非社交的"],
  6: ["忠誠心", "安定性", "責任感", "協力性", "リスク回避", "信頼の確認", "安心・安全の追求", "判断の迅速さ", "危機管理", "慎重", "予測と準備", "規律性", "忠実", "自己防衛", "心配性", "警戒心", "不安", "不信感", "組織やグループへの帰属意識", "リーダーの指示に従う"],
  7: ["冒険心", "楽観主義", "創造性", "好奇心", "刺激を求める", "多趣味", "興味の幅広さ", "アイデアの豊富さ", "未来志向", "夢想家", "エネルギー", "社交性", "マルチタスク", "自由奔放", "変化への適応性", "多様な経験の追求", "ポジティブな姿勢", "集中力の欠如", "飽きやすさ", "物事を終わらせる難しさ"],
  8: ["パワフル", "自信", "リーダーシップ", "決断力", "自己主張", "力強さ", "断固とした態度", "対立", "挑戦", "主導権の取得", "権威", "リスクの受け入れ", "影響力", "自己支配", "コントロール力", "他者への支配欲", "自己中心的", "攻撃性", "強引さ", "過度な競争心"],
  9: ["平和", "調和", "平穏", "決断の遅れ", "適応", "妥協", "抑制", "穏やかさ", "中立", "和解の促進", "安定性", "忍耐力", "平凡さ", "傍観者", "穏やかな姿勢", "寛大", "衝突回避", "現実逃避", "自己主張の欠如", "面倒を避ける"],
};
    const descriptions = { 1: "タイプ1：理想主義者\nアドバイス：完璧を求めすぎず柔軟さを意識。",
                           2: "タイプ2：献身者\nアドバイス：NOを言う練習も大事。",
                           3: "タイプ3：達成者\nアドバイス：内面の満足も大切に。",
                           4: "タイプ4：個性派\nアドバイス：共通点を見つけてバランスを。",
                           5: "タイプ5：観察者\nアドバイス：少しずつ感情を出してみて。",
                           6: "タイプ6：サポーター\nアドバイス：自分の直感も信じて。",
                           7: "タイプ7：冒険者\nアドバイス：「今ここ」に集中を。",
                           8: "タイプ8：リーダー\nアドバイス：弱さを認める勇気を。",
                           9: "タイプ9：平和主義者\nアドバイス：自分の意見を大切に。" };
    const jobs = { 1: "会計士、公務員", 2: "介護士、看護師", 3: "営業職、広報", 4: "デザイナー、作家", 5: "研究職、分析職",
                   6: "事務職、管理職", 7: "旅行業、イベント企画", 8: "経営者、警察官", 9: "調整役、福祉関連" };
    const images = {
  1: "https://images.unsplash.com/photo-1522202176988-66273c2fd55f?fit=crop&w=200&h=200",
  2: "https://images.unsplash.com/photo-1588776814546-ec7f20c6e8d1?fit=crop&w=200&h=200",
  3: "https://images.unsplash.com/photo-1549924231-f129b911e442?fit=crop&w=200&h=200",
  4: "https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?fit=crop&w=200&h=200",
  5: "https://images.unsplash.com/photo-1581092795360-5c4c4a73643f?fit=crop&w=200&h=200",
  6: "https://images.unsplash.com/photo-1609872041705-cac2b3b3f37b?fit=crop&w=200&h=200",
  7: "https://images.unsplash.com/photo-1583267745380-8360a134eff9?fit=crop&w=200&h=200",
  8: "https://images.unsplash.com/photo-1503341455253-b2e723bb3dbb?fit=crop&w=200&h=200",
  9: "https://images.unsplash.com/photo-1495567720989-cebdbdd97913?fit=crop&w=200&h=200",
};

    const form = document.getElementById("enneagramForm");
    for (let type in data) {
      const section = document.createElement("div");
      section.className = "type-section";
      const title = document.createElement("div");
      title.className = "type-title";
      title.textContent = `タイプ${type}`;
      section.appendChild(title);
      data[type].forEach((keyword, idx) => {
        const id = `type${type}_${idx}`;
        const label = document.createElement("label");
        label.innerHTML = `<input type="checkbox" name="type${type}" value="1"> ${keyword}`;
        section.appendChild(label);
      });
      form.appendChild(section);
    }

    function calculateResult() {
      const counts = {};
      for (let type in data) {
        const checkboxes = document.querySelectorAll(`input[name='type${type}']:checked`);
        counts[type] = checkboxes.length;
      }
      const max = Math.max(...Object.values(counts));
      const resultTypes = Object.keys(counts).filter(type => counts[type] === max);
      resultTypes.sort((a, b) => parseInt(a) - parseInt(b));
      const mainType = resultTypes[0];

      let resultText = `あなたのタイプは「タイプ${mainType}」です。\n\n${descriptions[mainType]}\n\n★合う仕事：${jobs[mainType]}`;
      if (resultTypes.length > 1) {
        resultText += `\n\n※他にもタイプ${resultTypes.slice(1).join("・")}の傾向も見られます。`;
      }

      const html = `${resultText.replace(/\n/g, '<br>')}<br><img src="${images[mainType]}">`;
      document.getElementById("result").innerHTML = html;

      const shareText = encodeURIComponent(resultText + "\n診断はこちら→ https://ennea5w4.github.io/enneagram-test/");
      document.getElementById("twitterShare").href = `https://twitter.com/intent/tweet?text=${shareText}`;
      document.getElementById("lineShare").href = `https://social-plugins.line.me/lineit/share?text=${shareText}`;
      document.getElementById("shareButtons").style.display = "block";
    }
  </script>
</body>
</html>
